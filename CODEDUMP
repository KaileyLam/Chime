<!-- Publish: img preview -->

imagePreview.onclick = (e) => {
    e.preventDefault();
    thumbnailInput.click();
}

// Check if the event listener has been added before
let isEventListenerAdded = false;

thumbnailInput.addEventListener('change', (event) => {
    const file = event.target.files[0];

    if (file) {
        filenameLabel.textContent = file.name;

        const reader = new FileReader();
        reader.onload = (e) => {
            thumbnailPreview.innerHTML =
            `<img src="${e.target.result}" class="object-cover" alt="Image preview"/>`;
            imagePreview.classList.remove('border-dashed', 'border-2', 'border-gray-400');
            thumbnailInputZone.style.display = "none";


            // Add event listener for image preview only once
            if (!isEventListenerAdded) {
            imagePreview.addEventListener('click', () => {
                thumbnailInput.click();
            });

            isEventListenerAdded = true;
            }
        };
        reader.readAsDataURL(file);
    } else {
    filenameLabel.textContent = '';
    thumbnailPreview.innerHTML =
        `<div class="bg-gray-200 h-48 rounded-lg flex items-center justify-center text-gray-500">No image preview</div>`;
    imagePreview.classList.add('border-dashed', 'border-2', 'border-gray-400');
    thumbnailInputZone.style.display = "none";

    // Remove the event listener when there's no image
    imagePreview.removeEventListener('click', () => {
        thumbnailInput.click();
    });

    isEventListenerAdded = false;
    }
});

thumbnailInput.addEventListener('click', (event) => {
    event.stopPropagation();
});





*NAVBAR*
<div class="min-w-[30%] w-[30%] flex items-center px-[24px] gap-6">
                        <div id="noti">
                            <!-- https://www.flaticon.com/free-icon/notification_2645890?term=notification&page=1&position=3&origin=search&related_id=2645890 -->
                            <img class="w-10 h-10 rounded-full shadow-lg" src="https://cdn-icons-png.flaticon.com/512/2645/2645897.png " alt="">
                            <!-- https://cdn-icons-png.flaticon.com/512/2645/2645890.png " -->
                            <!-- hover: What's new -->
                        </div>
                        <div id="account">
                            <!-- https://www.flaticon.com/free-icon/user_1144760?term=user&page=1&position=2&origin=search&related_id=1144760 -->
                            <img src="https://cdn-icons-png.flaticon.com/512/1144/1144760.png " alt="">
                            <!-- https://cdn-icons-png.flaticon.com/512/1144/1144811.png  -->
                            <!-- hover: acc name -->
                            <!-- click: options -->
                        </div>
                    </div>